# Telegram QR Авторизация

Веб-приложение для авторизации в Telegram через QR-код с автоматическим запуском юзербота для эхо-ответов.

## Функционал

- ✅ Генерация QR-кода для авторизации в Telegram
- ✅ Автоматическое обновление QR-кода при истечении
- ✅ Проверка статуса авторизации в реальном времени
- ✅ Автоматический запуск юзербота после успешной авторизации
- ✅ Эхо-ответы на все входящие сообщения
- ✅ Отображение профиля пользователя (фото, имя, username, телефон)
- ✅ Выход из аккаунта с очисткой сессии

## Установка

1. Клонируйте репозиторий или скачайте файлы

2. Установите зависимости:
```bash
pip install -r requirements.txt
```

3. Получите API credentials на https://my.telegram.org:
   - Зайдите на сайт и авторизуйтесь
   - В разделе "API development tools" создайте приложение
   - Скопируйте `api_id` и `api_hash`

4. Создайте файл `.env` на основе `.env.example`:
```bash
copy .env.example .env
```

5. Заполните `.env` файл своими данными:
```
API_ID=your_api_id_here
API_HASH=your_api_hash_here
SECRET_KEY=your-secret-key
DEBUG=True
FLASK_PORT=5000
```

## Запуск

```bash
python app.py
```

Приложение будет доступно по адресу: http://localhost:5000

## Использование

1. Откройте http://localhost:5000 в браузере
2. Отсканируйте QR-код через приложение Telegram на телефоне:
   - Зайдите в Telegram
   - Настройки → Устройства → Привязать устройство
   - Отсканируйте QR-код с экрана
3. После успешной авторизации отобразится ваш профиль
4. Бот автоматически активируется и будет отвечать на все сообщения эхом
5. Нажмите "Выйти" для деактивации бота и повторной авторизации

## Документация

- [API Документация](API.md) - Полное описание всех REST API эндпоинтов

## Структура проекта

```
qr_tg_authorization2/
├── app.py                  # Flask веб-сервер
├── auth_manager.py        # Менеджер авторизации через QR
├── userbot_manager.py     # Менеджер юзербота
├── config.py              # Конфигурация приложения
├── requirements.txt       # Зависимости Python
├── API.md                 # API документация
├── .env                   # Переменные окружения (создать)
├── .gitignore            # Игнорируемые файлы
├── sessions/             # Сессии Telegram (создается автоматически)
├── templates/            # HTML шаблоны
│   ├── index.html
│   └── inactive.html
└── static/               # Статические файлы
    ├── style.css
    ├── main.js
    └── img/              # Изображения
        ├── tg_icon.png
        ├── app-inactive.png
        ├── chat-bg-br.png
        └── chat-bg-pattern.png
```

## Примечания

- QR-код автоматически обновляется каждые 10 минут
- После выхода из аккаунта все данные сессии удаляются
- Бот работает на вебхуках и отвечает только на личные сообщения
- Для работы требуется стабильное интернет-соединение

## Требования

- Python 3.8+
- Telegram аккаунт
- API credentials от Telegram

## Лицензия

MIT

